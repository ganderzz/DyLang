<html>
    <head>
        <title>DyLang</title>

        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.1/css/foundation-flex.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.css">

        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.13.4/codemirror.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.13.4/mode/javascript/javascript.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.13.4/addon/comment/continuecomment.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.13.4/addon/edit/matchbrackets.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.13.4/addon/comment/comment.js"></script>
    </head>
    <body>
        <div class="row" style="margin-top: 20px;">
            <div class="small-6 columns">
                <textarea id="code" style="height: 70vh;">
##
DyLang programming language

Can call functions using: (functionname param1 param2 ...)
Functions can be vanilla JavaScript functions!

Assign variables using $ symbol: $a = 5
Use variables: $a
#

$a = (add (add 'hello' ', ') 'world!')
(console.log $a)</textarea>
            </div>

            <div class="small-6 columns">
                <div class="callout alert hide" id="error__result"></div>

                <span class="label secondary">Result</span>

                <div id="code__result" style="overflow-y: auto; max-height: 400px;"></div>
            </div>
        </div>

        <div class="row">
            <div class="small-6 columns">
                <button type="button" class="button expanded">Compile</button>
            </div>
        </div>

        <hr />

        <div class="row">
            <div class="small-12">
                <i class="fa fa-github" aria-hidden="true"></i> Check out the <a href="https://github.com/ganderzz/DyLang">GitHub</a> for more info!
            </div>
        </div>

        <script>
            window.onload = function() {
                var resultField = document.querySelector("#code__result");
                var errorField = document.querySelector("#error__result");

                var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
                    lineNumbers: true
                });

                console.log = function(value) {
                    resultField.innerHTML = value;
                }

                document.querySelector("button").addEventListener("click", function() {
                    var code = document.querySelector("#code").value;
                    
                    resultField.innerHTML = "";
                    errorField.classList.add("hide");

                    try {
                        var compiled = new dylang(editor.getValue());

                        eval(compiled.result);
                    } catch(exception) {
                        errorField.classList.remove("hide");
                        errorField.innerHTML = exception;
                    }
                });
            }
        </script>

    <script src="./build/dylang.js"></script>
    </body>
</html>